{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "speech-input-demo",
  "type": "registry:example",
  "registryDependencies": [
    "https://ui.elevenlabs.io/r/speech-input.json"
  ],
  "files": [
    {
      "path": "examples/speech-input-demo.tsx",
      "content": "\"use client\"\n\nimport { useRef, useState } from \"react\"\n\nimport { getScribeToken } from \"@/registry/elevenlabs-ui/blocks/realtime-transcriber-01/actions/get-scribe-token\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport {\n  SpeechInput,\n  SpeechInputCancelButton,\n  SpeechInputPreview,\n  SpeechInputRecordButton,\n} from \"@/components/ui/speech-input\"\nimport { Textarea } from \"@/components/ui/textarea\"\n\nasync function getToken() {\n  const result = await getScribeToken()\n  if (result.error) {\n    throw new Error(result.error)\n  }\n  return result.token!\n}\n\nexport default function SpeechInputDemo() {\n  const [textareaValue, setTextareaValue] = useState(\"\")\n  const textareaValueAtStartRef = useRef(\"\")\n  const [notesValue, setNotesValue] = useState(\"\")\n  const notesValueAtStartRef = useRef(\"\")\n  const [titleValue, setTitleValue] = useState(\"\")\n  const titleValueAtStartRef = useRef(\"\")\n\n  return (\n    <div className=\"w-full space-y-6 rounded-2xl p-6\">\n      <div className=\"relative\">\n        <Textarea\n          value={textareaValue}\n          onChange={(event) => {\n            setTextareaValue(event.target.value)\n          }}\n          placeholder=\"Describe a sound...\"\n          className=\"min-h-[120px] resize-none rounded-2xl px-3.5 pt-3 pb-14\"\n        />\n        <div className=\"absolute right-3 bottom-3 flex items-center gap-2\">\n          <SpeechInput\n            getToken={getToken}\n            onStart={() => {\n              textareaValueAtStartRef.current = textareaValue\n            }}\n            onChange={({ transcript }) => {\n              setTextareaValue(textareaValueAtStartRef.current + transcript)\n            }}\n            onStop={({ transcript }) => {\n              setTextareaValue(textareaValueAtStartRef.current + transcript)\n            }}\n            onCancel={() => {\n              setTextareaValue(textareaValueAtStartRef.current)\n            }}\n            onError={(error) => {\n              console.error(\"Speech input error:\", error)\n            }}\n          >\n            <SpeechInputCancelButton />\n            <SpeechInputPreview placeholder=\"Listening...\" />\n            <SpeechInputRecordButton />\n          </SpeechInput>\n          <Button size=\"sm\" className=\"shadow-sm\">\n            Generate\n          </Button>\n        </div>\n      </div>\n      <div className=\"relative\">\n        <Textarea\n          value={notesValue}\n          onChange={(event) => {\n            setNotesValue(event.target.value)\n          }}\n          placeholder=\"Add post-processing notes...\"\n          className=\"min-h-[100px] resize-none rounded-2xl px-3.5 pt-3 pb-12\"\n        />\n        <div className=\"absolute right-3 bottom-3 flex items-center gap-2\">\n          <SpeechInput\n            getToken={getToken}\n            onStart={() => {\n              notesValueAtStartRef.current = notesValue\n            }}\n            onChange={({ transcript }) => {\n              setNotesValue(notesValueAtStartRef.current + transcript)\n            }}\n            onStop={({ transcript }) => {\n              setNotesValue(notesValueAtStartRef.current + transcript)\n            }}\n            onCancel={() => {\n              setNotesValue(notesValueAtStartRef.current)\n            }}\n            onError={(error) => {\n              console.error(\"Speech input error:\", error)\n            }}\n          >\n            <SpeechInputCancelButton />\n            <SpeechInputRecordButton />\n          </SpeechInput>\n        </div>\n      </div>\n      <div className=\"flex items-center gap-3\">\n        <Input\n          value={titleValue}\n          onChange={(event) => {\n            setTitleValue(event.target.value)\n          }}\n          placeholder=\"Give this idea a title...\"\n          className=\"min-w-0 flex-1 rounded-lg px-3.5 py-4 text-base transition-[flex-basis] duration-200 md:text-sm\"\n        />\n        <SpeechInput\n          getToken={getToken}\n          className=\"shrink-0\"\n          onStart={() => {\n            titleValueAtStartRef.current = titleValue\n          }}\n          onChange={({ transcript }) => {\n            setTitleValue(titleValueAtStartRef.current + transcript)\n          }}\n          onStop={({ transcript }) => {\n            setTitleValue(titleValueAtStartRef.current + transcript)\n          }}\n          onCancel={() => {\n            setTitleValue(titleValueAtStartRef.current)\n          }}\n          onError={(error) => {\n            console.error(\"Speech input error:\", error)\n          }}\n        >\n          <SpeechInputCancelButton />\n          <SpeechInputRecordButton />\n        </SpeechInput>\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:example"
    }
  ]
}