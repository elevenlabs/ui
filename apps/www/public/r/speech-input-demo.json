{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "speech-input-demo",
  "type": "registry:example",
  "registryDependencies": [
    "https://ui.elevenlabs.io/r/speech-input.json"
  ],
  "files": [
    {
      "path": "examples/speech-input-demo.tsx",
      "content": "\"use client\"\n\nimport { useRef, useState } from \"react\"\n\nimport { getScribeToken } from \"@/registry/elevenlabs-ui/blocks/realtime-transcriber-01/actions/get-scribe-token\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  SpeechInput,\n  SpeechInputCancelButton,\n  SpeechInputPreview,\n  SpeechInputRecordButton,\n} from \"@/components/ui/speech-input\"\nimport { Textarea } from \"@/components/ui/textarea\"\n\nasync function getToken() {\n  const result = await getScribeToken()\n  if (result.error) {\n    throw new Error(result.error)\n  }\n  return result.token!\n}\n\nexport default function SpeechInputDemo() {\n  const [textareaValue, setTextareaValue] = useState(\"\")\n  const textareaValueAtStartRef = useRef(\"\")\n\n  return (\n    <div className=\"border-border w-full space-y-4 rounded-2xl border border-dashed p-6\">\n      <div className=\"space-y-1.5\">\n        <h3 className=\"text-lg font-semibold\">Sound story</h3>\n        <p className=\"text-muted-foreground text-sm\">\n          Describe the kind of sound you want to create, or hold the mic to\n          speak it out loud.\n        </p>\n      </div>\n\n      <div className=\"relative\">\n        <Textarea\n          value={textareaValue}\n          onChange={(event) => {\n            setTextareaValue(event.target.value)\n          }}\n          placeholder=\"Describe a sound...\"\n          className=\"min-h-[120px] resize-none rounded-2xl px-3.5 pt-3 pb-14\"\n        />\n        <div className=\"absolute right-3 bottom-3 flex items-center gap-2\">\n          <SpeechInput\n            getToken={getToken}\n            onStart={() => {\n              textareaValueAtStartRef.current = textareaValue\n            }}\n            onChange={({ transcript }) => {\n              setTextareaValue(textareaValueAtStartRef.current + transcript)\n            }}\n            onStop={({ transcript }) => {\n              setTextareaValue(textareaValueAtStartRef.current + transcript)\n            }}\n            onCancel={() => {\n              setTextareaValue(textareaValueAtStartRef.current)\n            }}\n            onError={(error) => {\n              console.error(\"Speech input error:\", error)\n            }}\n          >\n            <SpeechInputCancelButton />\n            <SpeechInputPreview placeholder=\"Listening...\" />\n            <SpeechInputRecordButton />\n          </SpeechInput>\n          <Button size=\"sm\" className=\"shadow-sm\">\n            Generate\n          </Button>\n        </div>\n      </div>\n    </div>\n  )\n}\n",
      "type": "registry:example"
    }
  ]
}